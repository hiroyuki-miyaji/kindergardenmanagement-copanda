<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>連絡フォーム</title>

<!-- Base CSS -->
<link rel="stylesheet" href="./css/base.css">

<!-- LIFF SDK -->
<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>

<!-- 共通 API -->
<script src="./js/app.js"></script>

<!-- 当フォーム専用 -->
<script defer src="./js/contact_form.js"></script>

<style>
/* 画面固有の最小限調整（既存踏襲） */
.form-section {
  margin-top: 20px;
  padding: 15px;
  background: #f3ecdb;
  border-radius: 6px;
}

.row {
  margin: 18px 0;
}

/* 見出しラベル */
.row > label {
  display: block;
  font-weight: bold;
  margin-bottom: 8px;
}

/* 選択肢ラベル（横並び） */
.row .inline-label {
  display: inline-flex;
  align-items: center;
  margin-right: 18px;
  font-weight: normal;
}

#guardianOther {
  margin-top: 6px;
  width: 90%;
}
</style>
</head>

<body>
<div class="container">

  <h2 id="title">連絡フォーム</h2>

  <!-- ① 園児選択 -->
  <div class="form-section">
    <div class="row">
      <label>園児を選んでください</label>
      <!-- ★ class 追加（重要） -->
      <div id="kidArea" class="kids-area"></div>
    </div>

    <!-- ② 日付選択 -->
<div class="row hidden" id="calendarArea">
  <label>日程</label>

  <!-- 表示用 -->
  <div id="selectedDateBox" class="date-box">
    日付を選択してください
  </div>

  <!-- 折りたたみカレンダー -->
    <div id="calendarWrap" class="hidden">
      <div class="calendar-header">
        <button type="button" id="prevMonth">‹</button>
        <span id="calendarTitle"></span>
        <button type="button" id="nextMonth">›</button>
      </div>
      <div id="calendarGrid" class="calendar-grid"></div>
    </div>
  
  </div>
  </div>

  <!-- ③ フォーム本体 -->
  <div id="formBody" class="form-section" style="display:none;">

    <div class="row" id="row-baggage">
      <label>荷物持ち帰り</label>
      <label class="inline-label"><input type="radio" name="baggage">園受け取り</label>
      <label class="inline-label"><input type="radio" name="baggage">バス受け取り</label>
      <label class="inline-label"><input type="radio" name="baggage">兄弟児に持たせる</label>
      <label class="inline-label"><input type="radio" name="baggage">しない</label>
    </div>

    <div class="row" id="row-send">
      <label>送り時間</label>
      <select id="send"></select>
    </div>

    <div class="row" id="row-pickup">
      <label>お迎え時間</label>
      <select id="pickup"></select>
    </div>

    <div class="row" id="row-reason">
      <label>理由</label>
      <div id="reasonArea"></div>
    </div>

    <div class="row" id="row-memo">
      <label>備考</label>
      <input id="memo" type="text">
    </div>

    <div class="row" id="row-lunch">
      <label>給食</label>
      <label class="inline-label"><input type="radio" name="lunch">必要</label>
      <label class="inline-label"><input type="radio" name="lunch">不要</label>
    </div>

    <div class="row" id="row-guardian">
      <label>来園する保護者</label>
      <label class="inline-label"><input type="radio" name="guardian">母親</label>
      <label class="inline-label"><input type="radio" name="guardian">父親</label>
      <label class="inline-label"><input type="radio" name="guardian">その他</label>
      <input id="guardianOther" type="text" placeholder="その他の場合入力">
    </div>

    <div class="row" id="row-bus">
      <label>キャンセルバス</label>
      <label class="inline-label"><input type="checkbox">朝バス</label>
      <label class="inline-label"><input type="checkbox">帰りバス</label>
    </div>

    <div class="row" style="text-align:center;">
      <button id="btnBack" class="menu-btn"
        style="background:white;color:#c93056;border:2px solid #c93056;width:120px;">
        戻る
      </button>
      <button id="btnSubmit" class="menu-btn" style="width:120px;">
        送信
      </button>
    </div>

  </div>
</div>
</body>
</html>
